<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>âœˆï¸ Travel Planner & Tracker</title>
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@300;400;600;700;800&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        'nunito': ['Nunito', 'sans-serif'],
                    },
                    colors: {
                        'pastel-peach': '#FFD4C4',
                        'pastel-lavender': '#E6E6FA',
                        'pastel-mint': '#B8E6B8',
                        'pastel-yellow': '#FFF8DC',
                        'soft-peach': '#FFCCCB',
                        'soft-lavender': '#DDA0DD',
                        'soft-mint': '#98FB98',
                        'soft-yellow': '#FFFFE0'
                    }
                }
            }
        }
    </script>
</head>
<body class="bg-gradient-to-br from-pastel-peach via-pastel-lavender to-pastel-mint min-h-screen font-nunito">
    <div class="container mx-auto px-4 py-8 max-w-6xl">
        <!-- Header -->
        <div class="text-center mb-8">
            <h1 class="text-4xl font-bold text-gray-800 mb-2">âœˆï¸ Travel Planner & Tracker</h1>
            <p class="text-gray-600 text-lg">Plan, track, and remember your amazing adventures! ğŸŒ</p>
        </div>

        <!-- Navigation Tabs -->
        <div class="flex flex-wrap justify-center mb-8 bg-white/50 backdrop-blur-sm rounded-2xl p-2 shadow-lg">
            <button onclick="showTab('setup')" id="tab-setup" class="tab-btn active px-6 py-3 rounded-xl font-semibold transition-all duration-300 m-1">ğŸŒ Trip Setup</button>
            <button onclick="showTab('itinerary')" id="tab-itinerary" class="tab-btn px-6 py-3 rounded-xl font-semibold transition-all duration-300 m-1">ğŸ“… Itinerary</button>
            <button onclick="showTab('expenses')" id="tab-expenses" class="tab-btn px-6 py-3 rounded-xl font-semibold transition-all duration-300 m-1">ğŸ’° Expenses</button>
            <button onclick="showTab('summary')" id="tab-summary" class="tab-btn px-6 py-3 rounded-xl font-semibold transition-all duration-300 m-1">ğŸ“Š Summary</button>
        </div>

        <!-- Trip Setup Tab -->
        <div id="setup-tab" class="tab-content">
            <div class="grid md:grid-cols-2 gap-6">
                <!-- Basic Trip Info -->
                <div class="bg-white/70 backdrop-blur-sm rounded-2xl p-6 shadow-lg">
                    <h3 class="text-2xl font-bold text-gray-800 mb-4">âœ¨ Trip Details</h3>
                    <div class="space-y-4">
                        <div>
                            <label class="block text-gray-700 font-semibold mb-2">Trip Name</label>
                            <input type="text" id="trip-name" placeholder="My Amazing Adventure" class="w-full p-3 rounded-xl border-2 border-pastel-lavender focus:border-soft-lavender outline-none transition-colors">
                        </div>
                        <div>
                            <label class="block text-gray-700 font-semibold mb-2">Country</label>
                            <select id="country" class="w-full p-3 rounded-xl border-2 border-pastel-lavender focus:border-soft-lavender outline-none transition-colors">
                                <option value="">Select a country...</option>
                                <option value="afghanistan">ğŸ‡¦ğŸ‡« Afghanistan</option>
                                <option value="albania">ğŸ‡¦ğŸ‡± Albania</option>
                                <option value="algeria">ğŸ‡©ğŸ‡¿ Algeria</option>
                                <option value="andorra">ğŸ‡¦ğŸ‡© Andorra</option>
                                <option value="angola">ğŸ‡¦ğŸ‡´ Angola</option>
                                <option value="antigua-and-barbuda">ğŸ‡¦ğŸ‡¬ Antigua and Barbuda</option>
                                <option value="argentina">ğŸ‡¦ğŸ‡· Argentina</option>
                                <option value="armenia">ğŸ‡¦ğŸ‡² Armenia</option>
                                <option value="australia">ğŸ‡¦ğŸ‡º Australia</option>
                                <option value="austria">ğŸ‡¦ğŸ‡¹ Austria</option>
                                <option value="azerbaijan">ğŸ‡¦ğŸ‡¿ Azerbaijan</option>
                                <option value="bahamas">ğŸ‡§ğŸ‡¸ Bahamas</option>
                                <option value="bahrain">ğŸ‡§ğŸ‡­ Bahrain</option>
                                <option value="bangladesh">ğŸ‡§ğŸ‡© Bangladesh</option>
                                <option value="barbados">ğŸ‡§ğŸ‡§ Barbados</option>
                                <option value="belarus">ğŸ‡§ğŸ‡¾ Belarus</option>
                                <option value="belgium">ğŸ‡§ğŸ‡ª Belgium</option>
                                <option value="belize">ğŸ‡§ğŸ‡¿ Belize</option>
                                <option value="benin">ğŸ‡§ğŸ‡¯ Benin</option>
                                <option value="bhutan">ğŸ‡§ğŸ‡¹ Bhutan</option>
                                <option value="bolivia">ğŸ‡§ğŸ‡´ Bolivia</option>
                                <option value="bosnia-and-herzegovina">ğŸ‡§ğŸ‡¦ Bosnia and Herzegovina</option>
                                <option value="botswana">ğŸ‡§ğŸ‡¼ Botswana</option>
                                <option value="brazil">ğŸ‡§ğŸ‡· Brazil</option>
                                <option value="brunei">ğŸ‡§ğŸ‡³ Brunei</option>
                                <option value="bulgaria">ğŸ‡§ğŸ‡¬ Bulgaria</option>
                                <option value="burkina-faso">ğŸ‡§ğŸ‡« Burkina Faso</option>
                                <option value="burundi">ğŸ‡§ğŸ‡® Burundi</option>
                                <option value="cabo-verde">ğŸ‡¨ğŸ‡» Cabo Verde</option>
                                <option value="cambodia">ğŸ‡°ğŸ‡­ Cambodia</option>
                                <option value="cameroon">ğŸ‡¨ğŸ‡² Cameroon</option>
                                <option value="canada">ğŸ‡¨ğŸ‡¦ Canada</option>
                                <option value="central-african-republic">ğŸ‡¨ğŸ‡« Central African Republic</option>
                                <option value="chad">ğŸ‡¹ğŸ‡© Chad</option>
                                <option value="chile">ğŸ‡¨ğŸ‡± Chile</option>
                                <option value="china">ğŸ‡¨ğŸ‡³ China</option>
                                <option value="colombia">ğŸ‡¨ğŸ‡´ Colombia</option>
                                <option value="comoros">ğŸ‡°ğŸ‡² Comoros</option>
                                <option value="congo-brazzaville">ğŸ‡¨ğŸ‡¬ Congo (Brazzaville)</option>
                                <option value="congo-kinshasa">ğŸ‡¨ğŸ‡© Congo (Kinshasa)</option>
                                <option value="costa-rica">ğŸ‡¨ğŸ‡· Costa Rica</option>
                                <option value="croatia">ğŸ‡­ğŸ‡· Croatia</option>
                                <option value="cuba">ğŸ‡¨ğŸ‡º Cuba</option>
                                <option value="cyprus">ğŸ‡¨ğŸ‡¾ Cyprus</option>
                                <option value="czech-republic">ğŸ‡¨ğŸ‡¿ Czech Republic</option>
                                <option value="denmark">ğŸ‡©ğŸ‡° Denmark</option>
                                <option value="djibouti">ğŸ‡©ğŸ‡¯ Djibouti</option>
                                <option value="dominica">ğŸ‡©ğŸ‡² Dominica</option>
                                <option value="dominican-republic">ğŸ‡©ğŸ‡´ Dominican Republic</option>
                                <option value="ecuador">ğŸ‡ªğŸ‡¨ Ecuador</option>
                                <option value="egypt">ğŸ‡ªğŸ‡¬ Egypt</option>
                                <option value="el-salvador">ğŸ‡¸ğŸ‡» El Salvador</option>
                                <option value="equatorial-guinea">ğŸ‡¬ğŸ‡¶ Equatorial Guinea</option>
                                <option value="eritrea">ğŸ‡ªğŸ‡· Eritrea</option>
                                <option value="estonia">ğŸ‡ªğŸ‡ª Estonia</option>
                                <option value="eswatini">ğŸ‡¸ğŸ‡¿ Eswatini</option>
                                <option value="ethiopia">ğŸ‡ªğŸ‡¹ Ethiopia</option>
                                <option value="fiji">ğŸ‡«ğŸ‡¯ Fiji</option>
                                <option value="finland">ğŸ‡«ğŸ‡® Finland</option>
                                <option value="france">ğŸ‡«ğŸ‡· France</option>
                                <option value="gabon">ğŸ‡¬ğŸ‡¦ Gabon</option>
                                <option value="gambia">ğŸ‡¬ğŸ‡² Gambia</option>
                                <option value="georgia">ğŸ‡¬ğŸ‡ª Georgia</option>
                                <option value="germany">ğŸ‡©ğŸ‡ª Germany</option>
                                <option value="ghana">ğŸ‡¬ğŸ‡­ Ghana</option>
                                <option value="greece">ğŸ‡¬ğŸ‡· Greece</option>
                                <option value="grenada">ğŸ‡¬ğŸ‡© Grenada</option>
                                <option value="guatemala">ğŸ‡¬ğŸ‡¹ Guatemala</option>
                                <option value="guinea">ğŸ‡¬ğŸ‡³ Guinea</option>
                                <option value="guinea-bissau">ğŸ‡¬ğŸ‡¼ Guinea-Bissau</option>
                                <option value="guyana">ğŸ‡¬ğŸ‡¾ Guyana</option>
                                <option value="haiti">ğŸ‡­ğŸ‡¹ Haiti</option>
                                <option value="honduras">ğŸ‡­ğŸ‡³ Honduras</option>
                                <option value="hungary">ğŸ‡­ğŸ‡º Hungary</option>
                                <option value="iceland">ğŸ‡®ğŸ‡¸ Iceland</option>
                                <option value="india">ğŸ‡®ğŸ‡³ India</option>
                                <option value="indonesia">ğŸ‡®ğŸ‡© Indonesia</option>
                                <option value="iran">ğŸ‡®ğŸ‡· Iran</option>
                                <option value="iraq">ğŸ‡®ğŸ‡¶ Iraq</option>
                                <option value="ireland">ğŸ‡®ğŸ‡ª Ireland</option>
                                <option value="israel">ğŸ‡®ğŸ‡± Israel</option>
                                <option value="italy">ğŸ‡®ğŸ‡¹ Italy</option>
                                <option value="ivory-coast">ğŸ‡¨ğŸ‡® Ivory Coast</option>
                                <option value="jamaica">ğŸ‡¯ğŸ‡² Jamaica</option>
                                <option value="japan">ğŸ‡¯ğŸ‡µ Japan</option>
                                <option value="jordan">ğŸ‡¯ğŸ‡´ Jordan</option>
                                <option value="kazakhstan">ğŸ‡°ğŸ‡¿ Kazakhstan</option>
                                <option value="kenya">ğŸ‡°ğŸ‡ª Kenya</option>
                                <option value="kiribati">ğŸ‡°ğŸ‡® Kiribati</option>
                                <option value="kuwait">ğŸ‡°ğŸ‡¼ Kuwait</option>
                                <option value="kyrgyzstan">ğŸ‡°ğŸ‡¬ Kyrgyzstan</option>
                                <option value="laos">ğŸ‡±ğŸ‡¦ Laos</option>
                                <option value="latvia">ğŸ‡±ğŸ‡» Latvia</option>
                                <option value="lebanon">ğŸ‡±ğŸ‡§ Lebanon</option>
                                <option value="lesotho">ğŸ‡±ğŸ‡¸ Lesotho</option>
                                <option value="liberia">ğŸ‡±ğŸ‡· Liberia</option>
                                <option value="libya">ğŸ‡±ğŸ‡¾ Libya</option>
                                <option value="liechtenstein">ğŸ‡±ğŸ‡® Liechtenstein</option>
                                <option value="lithuania">ğŸ‡±ğŸ‡¹ Lithuania</option>
                                <option value="luxembourg">ğŸ‡±ğŸ‡º Luxembourg</option>
                                <option value="madagascar">ğŸ‡²ğŸ‡¬ Madagascar</option>
                                <option value="malawi">ğŸ‡²ğŸ‡¼ Malawi</option>
                                <option value="malaysia">ğŸ‡²ğŸ‡¾ Malaysia</option>
                                <option value="maldives">ğŸ‡²ğŸ‡» Maldives</option>
                                <option value="mali">ğŸ‡²ğŸ‡± Mali</option>
                                <option value="malta">ğŸ‡²ğŸ‡¹ Malta</option>
                                <option value="marshall-islands">ğŸ‡²ğŸ‡­ Marshall Islands</option>
                                <option value="mauritania">ğŸ‡²ğŸ‡· Mauritania</option>
                                <option value="mauritius">ğŸ‡²ğŸ‡º Mauritius</option>
                                <option value="mexico">ğŸ‡²ğŸ‡½ Mexico</option>
                                <option value="micronesia">ğŸ‡«ğŸ‡² Micronesia</option>
                                <option value="moldova">ğŸ‡²ğŸ‡© Moldova</option>
                                <option value="monaco">ğŸ‡²ğŸ‡¨ Monaco</option>
                                <option value="mongolia">ğŸ‡²ğŸ‡³ Mongolia</option>
                                <option value="montenegro">ğŸ‡²ğŸ‡ª Montenegro</option>
                                <option value="morocco">ğŸ‡²ğŸ‡¦ Morocco</option>
                                <option value="mozambique">ğŸ‡²ğŸ‡¿ Mozambique</option>
                                <option value="myanmar">ğŸ‡²ğŸ‡² Myanmar</option>
                                <option value="namibia">ğŸ‡³ğŸ‡¦ Namibia</option>
                                <option value="nauru">ğŸ‡³ğŸ‡· Nauru</option>
                                <option value="nepal">ğŸ‡³ğŸ‡µ Nepal</option>
                                <option value="netherlands">ğŸ‡³ğŸ‡± Netherlands</option>
                                <option value="new-zealand">ğŸ‡³ğŸ‡¿ New Zealand</option>
                                <option value="nicaragua">ğŸ‡³ğŸ‡® Nicaragua</option>
                                <option value="niger">ğŸ‡³ğŸ‡ª Niger</option>
                                <option value="nigeria">ğŸ‡³ğŸ‡¬ Nigeria</option>
                                <option value="north-korea">ğŸ‡°ğŸ‡µ North Korea</option>
                                <option value="north-macedonia">ğŸ‡²ğŸ‡° North Macedonia</option>
                                <option value="norway">ğŸ‡³ğŸ‡´ Norway</option>
                                <option value="oman">ğŸ‡´ğŸ‡² Oman</option>
                                <option value="pakistan">ğŸ‡µğŸ‡° Pakistan</option>
                                <option value="palau">ğŸ‡µğŸ‡¼ Palau</option>
                                <option value="palestine">ğŸ‡µğŸ‡¸ Palestine</option>
                                <option value="panama">ğŸ‡µğŸ‡¦ Panama</option>
                                <option value="papua-new-guinea">ğŸ‡µğŸ‡¬ Papua New Guinea</option>
                                <option value="paraguay">ğŸ‡µğŸ‡¾ Paraguay</option>
                                <option value="peru">ğŸ‡µğŸ‡ª Peru</option>
                                <option value="philippines">ğŸ‡µğŸ‡­ Philippines</option>
                                <option value="poland">ğŸ‡µğŸ‡± Poland</option>
                                <option value="portugal">ğŸ‡µğŸ‡¹ Portugal</option>
                                <option value="qatar">ğŸ‡¶ğŸ‡¦ Qatar</option>
                                <option value="romania">ğŸ‡·ğŸ‡´ Romania</option>
                                <option value="russia">ğŸ‡·ğŸ‡º Russia</option>
                                <option value="rwanda">ğŸ‡·ğŸ‡¼ Rwanda</option>
                                <option value="saint-kitts-and-nevis">ğŸ‡°ğŸ‡³ Saint Kitts and Nevis</option>
                                <option value="saint-lucia">ğŸ‡±ğŸ‡¨ Saint Lucia</option>
                                <option value="saint-vincent-and-the-grenadines">ğŸ‡»ğŸ‡¨ Saint Vincent and the Grenadines</option>
                                <option value="samoa">ğŸ‡¼ğŸ‡¸ Samoa</option>
                                <option value="san-marino">ğŸ‡¸ğŸ‡² San Marino</option>
                                <option value="sao-tome-and-principe">ğŸ‡¸ğŸ‡¹ Sao Tome and Principe</option>
                                <option value="saudi-arabia">ğŸ‡¸ğŸ‡¦ Saudi Arabia</option>
                                <option value="senegal">ğŸ‡¸ğŸ‡³ Senegal</option>
                                <option value="serbia">ğŸ‡·ğŸ‡¸ Serbia</option>
                                <option value="seychelles">ğŸ‡¸ğŸ‡¨ Seychelles</option>
                                <option value="sierra-leone">ğŸ‡¸ğŸ‡± Sierra Leone</option>
                                <option value="singapore">ğŸ‡¸ğŸ‡¬ Singapore</option>
                                <option value="slovakia">ğŸ‡¸ğŸ‡° Slovakia</option>
                                <option value="slovenia">ğŸ‡¸ğŸ‡® Slovenia</option>
                                <option value="solomon-islands">ğŸ‡¸ğŸ‡§ Solomon Islands</option>
                                <option value="somalia">ğŸ‡¸ğŸ‡´ Somalia</option>
                                <option value="south-africa">ğŸ‡¿ğŸ‡¦ South Africa</option>
                                <option value="south-korea">ğŸ‡°ğŸ‡· South Korea</option>
                                <option value="south-sudan">ğŸ‡¸ğŸ‡¸ South Sudan</option>
                                <option value="spain">ğŸ‡ªğŸ‡¸ Spain</option>
                                <option value="sri-lanka">ğŸ‡±ğŸ‡° Sri Lanka</option>
                                <option value="sudan">ğŸ‡¸ğŸ‡© Sudan</option>
                                <option value="suriname">ğŸ‡¸ğŸ‡· Suriname</option>
                                <option value="sweden">ğŸ‡¸ğŸ‡ª Sweden</option>
                                <option value="switzerland">ğŸ‡¨ğŸ‡­ Switzerland</option>
                                <option value="syria">ğŸ‡¸ğŸ‡¾ Syria</option>
                                <option value="taiwan">ğŸ‡¹ğŸ‡¼ Taiwan</option>
                                <option value="tajikistan">ğŸ‡¹ğŸ‡¯ Tajikistan</option>
                                <option value="tanzania">ğŸ‡¹ğŸ‡¿ Tanzania</option>
                                <option value="thailand">ğŸ‡¹ğŸ‡­ Thailand</option>
                                <option value="timor-leste">ğŸ‡¹ğŸ‡± Timor-Leste</option>
                                <option value="togo">ğŸ‡¹ğŸ‡¬ Togo</option>
                                <option value="tonga">ğŸ‡¹ğŸ‡´ Tonga</option>
                                <option value="trinidad-and-tobago">ğŸ‡¹ğŸ‡¹ Trinidad and Tobago</option>
                                <option value="tunisia">ğŸ‡¹ğŸ‡³ Tunisia</option>
                                <option value="turkey">ğŸ‡¹ğŸ‡· Turkey</option>
                                <option value="turkmenistan">ğŸ‡¹ğŸ‡² Turkmenistan</option>
                                <option value="tuvalu">ğŸ‡¹ğŸ‡» Tuvalu</option>
                                <option value="uganda">ğŸ‡ºğŸ‡¬ Uganda</option>
                                <option value="ukraine">ğŸ‡ºğŸ‡¦ Ukraine</option>
                                <option value="united-arab-emirates">ğŸ‡¦ğŸ‡ª United Arab Emirates</option>
                                <option value="united-kingdom">ğŸ‡¬ğŸ‡§ United Kingdom</option>
                                <option value="united-states">ğŸ‡ºğŸ‡¸ United States</option>
                                <option value="uruguay">ğŸ‡ºğŸ‡¾ Uruguay</option>
                                <option value="uzbekistan">ğŸ‡ºğŸ‡¿ Uzbekistan</option>
                                <option value="vanuatu">ğŸ‡»ğŸ‡º Vanuatu</option>
                                <option value="vatican-city">ğŸ‡»ğŸ‡¦ Vatican City</option>
                                <option value="venezuela">ğŸ‡»ğŸ‡ª Venezuela</option>
                                <option value="vietnam">ğŸ‡»ğŸ‡³ Vietnam</option>
                                <option value="yemen">ğŸ‡¾ğŸ‡ª Yemen</option>
                                <option value="zambia">ğŸ‡¿ğŸ‡² Zambia</option>
                                <option value="zimbabwe">ğŸ‡¿ğŸ‡¼ Zimbabwe</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-gray-700 font-semibold mb-2">Cities</label>
                            <select multiple id="cities" class="w-full p-3 rounded-xl border-2 border-pastel-lavender focus:border-soft-lavender outline-none transition-colors h-32">
                                <option value="">Select a country first...</option>
                            </select>
                            <p class="text-sm text-gray-500 mt-1">Hold Ctrl/Cmd to select multiple cities</p>
                        </div>
                    </div>
                </div>

                <!-- Dates & Budget -->
                <div class="bg-white/70 backdrop-blur-sm rounded-2xl p-6 shadow-lg">
                    <h3 class="text-2xl font-bold text-gray-800 mb-4">ğŸ“… Dates & Budget</h3>
                    <div class="space-y-4">
                        <div class="grid grid-cols-2 gap-4">
                            <div>
                                <label class="block text-gray-700 font-semibold mb-2">Start Date</label>
                                <input type="date" id="start-date" class="w-full p-3 rounded-xl border-2 border-pastel-mint focus:border-soft-mint outline-none transition-colors">
                            </div>
                            <div>
                                <label class="block text-gray-700 font-semibold mb-2">End Date</label>
                                <input type="date" id="end-date" class="w-full p-3 rounded-xl border-2 border-pastel-mint focus:border-soft-mint outline-none transition-colors">
                            </div>
                        </div>
                        <div class="bg-pastel-yellow/50 rounded-xl p-4">
                            <p class="text-gray-700"><span class="font-semibold">Duration:</span> <span id="duration">0 days</span></p>
                            <p class="text-gray-700"><span class="font-semibold">Days Remaining:</span> <span id="days-remaining">-</span></p>
                        </div>
                        <div class="grid grid-cols-2 gap-4">
                            <div>
                                <label class="block text-gray-700 font-semibold mb-2">Budget</label>
                                <input type="number" id="budget" placeholder="5000" class="w-full p-3 rounded-xl border-2 border-pastel-yellow focus:border-soft-yellow outline-none transition-colors">
                            </div>
                            <div>
                                <label class="block text-gray-700 font-semibold mb-2">Currency</label>
                                <select id="budget-currency" class="w-full p-3 rounded-xl border-2 border-pastel-yellow focus:border-soft-yellow outline-none transition-colors">
                                    <option value="USD">ğŸ’µ USD</option>
                                    <option value="EUR">ğŸ’¶ EUR</option>
                                    <option value="JPY">ğŸ’´ JPY</option>
                                    <option value="PHP">ğŸ‡µğŸ‡­ PHP</option>
                                    <option value="THB">ğŸ‡¹ğŸ‡­ THB</option>
                                    <option value="SGD">ğŸ‡¸ğŸ‡¬ SGD</option>
                                    <option value="KRW">ğŸ‡°ğŸ‡· KRW</option>
                                </select>
                            </div>
                        </div>
                        <button onclick="saveTripSetup()" class="w-full bg-gradient-to-r from-soft-peach to-soft-lavender text-gray-800 font-bold py-3 px-6 rounded-xl hover:shadow-lg transition-all duration-300 transform hover:scale-105">
                            ğŸ’¾ Save Trip Setup
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Itinerary Tab -->
        <div id="itinerary-tab" class="tab-content hidden">
            <div class="grid lg:grid-cols-3 gap-6">
                <!-- AI Suggestions -->
                <div class="bg-white/70 backdrop-blur-sm rounded-2xl p-6 shadow-lg">
                    <h3 class="text-2xl font-bold text-gray-800 mb-4">ğŸ¤– AI Suggestions</h3>
                    <div class="space-y-4">
                        <button onclick="generateSuggestions()" class="w-full bg-gradient-to-r from-pastel-mint to-soft-mint text-gray-800 font-bold py-3 px-6 rounded-xl hover:shadow-lg transition-all duration-300">
                            âœ¨ Generate Suggestions
                        </button>
                        <div id="suggestions" class="space-y-2">
                            <!-- AI suggestions will appear here -->
                        </div>
                    </div>
                </div>

                <!-- Daily Planner -->
                <div class="lg:col-span-2 bg-white/70 backdrop-blur-sm rounded-2xl p-6 shadow-lg">
                    <div class="flex justify-between items-center mb-4">
                        <h3 class="text-2xl font-bold text-gray-800">ğŸ“… Daily Planner</h3>
                        <div class="flex gap-2">
                            <button onclick="prevDay()" class="bg-pastel-lavender hover:bg-soft-lavender text-gray-800 font-bold py-2 px-4 rounded-xl transition-colors">â†</button>
                            <span id="current-day" class="bg-pastel-yellow px-4 py-2 rounded-xl font-semibold">Day 1</span>
                            <button onclick="nextDay()" class="bg-pastel-lavender hover:bg-soft-lavender text-gray-800 font-bold py-2 px-4 rounded-xl transition-colors">â†’</button>
                        </div>
                    </div>
                    
                    <!-- Add Activity Form -->
                    <div class="bg-pastel-mint/30 rounded-xl p-4 mb-4">
                        <h4 class="font-semibold text-gray-800 mb-3">â• Add Activity</h4>
                        <div class="grid md:grid-cols-2 gap-3">
                            <input type="text" id="activity-name" placeholder="Activity name" class="p-2 rounded-lg border border-gray-300 outline-none focus:border-soft-mint">
                            <input type="text" id="activity-location" placeholder="Location/Address" class="p-2 rounded-lg border border-gray-300 outline-none focus:border-soft-mint">
                            <input type="time" id="activity-time" class="p-2 rounded-lg border border-gray-300 outline-none focus:border-soft-mint">
                            <input type="number" id="activity-duration" placeholder="Duration (hours)" class="p-2 rounded-lg border border-gray-300 outline-none focus:border-soft-mint">
                        </div>
                        <div class="flex gap-2 mt-3">
                            <button onclick="addActivity()" class="bg-soft-mint text-gray-800 font-semibold py-2 px-4 rounded-lg hover:bg-pastel-mint transition-colors">Add Activity</button>
                            <button onclick="searchPlaces()" class="bg-soft-peach text-gray-800 font-semibold py-2 px-4 rounded-lg hover:bg-pastel-peach transition-colors">ğŸ—ºï¸ Search Places</button>
                        </div>
                    </div>

                    <!-- Daily Activities -->
                    <div id="daily-activities" class="space-y-3">
                        <!-- Activities will be displayed here -->
                    </div>
                </div>
            </div>
        </div>

        <!-- Expenses Tab -->
        <div id="expenses-tab" class="tab-content hidden">
            <div class="grid lg:grid-cols-2 gap-6">
                <!-- Add Expense -->
                <div class="bg-white/70 backdrop-blur-sm rounded-2xl p-6 shadow-lg">
                    <h3 class="text-2xl font-bold text-gray-800 mb-4">ğŸ’° Add Expense</h3>
                    <div class="space-y-4">
                        <div class="grid grid-cols-2 gap-4">
                            <div>
                                <label class="block text-gray-700 font-semibold mb-2">Amount</label>
                                <input type="number" id="expense-amount" placeholder="100" class="w-full p-3 rounded-xl border-2 border-pastel-peach focus:border-soft-peach outline-none transition-colors">
                            </div>
                            <div>
                                <label class="block text-gray-700 font-semibold mb-2">Currency</label>
                                <select id="expense-currency" class="w-full p-3 rounded-xl border-2 border-pastel-peach focus:border-soft-peach outline-none transition-colors">
                                    <option value="local">Country Currency</option>
                                    <option value="USD">ğŸ’µ USD</option>
                                    <option value="EUR">ğŸ’¶ EUR</option>
                                    <option value="JPY">ğŸ’´ JPY</option>
                                    <option value="PHP">ğŸ‡µğŸ‡­ PHP</option>
                                    <option value="THB">ğŸ‡¹ğŸ‡­ THB</option>
                                    <option value="SGD">ğŸ‡¸ğŸ‡¬ SGD</option>
                                    <option value="KRW">ğŸ‡°ğŸ‡· KRW</option>
                                </select>
                            </div>
                        </div>
                        <div>
                            <label class="block text-gray-700 font-semibold mb-2">Category</label>
                            <select id="expense-category" class="w-full p-3 rounded-xl border-2 border-pastel-mint focus:border-soft-mint outline-none transition-colors">
                                <option value="pre-departure">ğŸ’ Pre-departure</option>
                                <option value="transport">ğŸš— Transportation</option>
                                <option value="food">ğŸœ Food</option>
                                <option value="airfare">âœˆï¸ Airfare</option>
                                <option value="accommodation">ğŸ¨ Accommodation</option>
                                <option value="shopping">ğŸ›ï¸ Shopping</option>
                                <option value="activities">ğŸ¡ Activities</option>
                                <option value="other">ğŸ“¦ Other</option>
                                <option value="custom">âœ¨ Custom</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-gray-700 font-semibold mb-2">Description</label>
                            <input type="text" id="expense-description" placeholder="What did you spend on?" class="w-full p-3 rounded-xl border-2 border-pastel-yellow focus:border-soft-yellow outline-none transition-colors">
                        </div>
                        <div>
                            <label class="block text-gray-700 font-semibold mb-2">Date</label>
                            <input type="date" id="expense-date" class="w-full p-3 rounded-xl border-2 border-pastel-lavender focus:border-soft-lavender outline-none transition-colors">
                        </div>
                        <button onclick="addExpense()" class="w-full bg-gradient-to-r from-soft-peach to-soft-mint text-gray-800 font-bold py-3 px-6 rounded-xl hover:shadow-lg transition-all duration-300 transform hover:scale-105">
                            ğŸ’¾ Add Expense
                        </button>
                    </div>
                </div>

                <!-- Expense Overview -->
                <div class="bg-white/70 backdrop-blur-sm rounded-2xl p-6 shadow-lg">
                    <h3 class="text-2xl font-bold text-gray-800 mb-4">ğŸ“Š Expense Overview</h3>
                    <div class="space-y-4">
                        <!-- Budget Summary -->
                        <div class="bg-gradient-to-r from-pastel-yellow to-pastel-peach rounded-xl p-4">
                            <div class="grid grid-cols-3 gap-4 text-center">
                                <div>
                                    <p class="text-sm text-gray-600">Allocated</p>
                                    <p class="text-lg font-bold" id="allocated-budget">$0</p>
                                </div>
                                <div>
                                    <p class="text-sm text-gray-600">Spent</p>
                                    <p class="text-lg font-bold" id="total-spent">$0</p>
                                </div>
                                <div>
                                    <p class="text-sm text-gray-600">Remaining</p>
                                    <p class="text-lg font-bold" id="budget-remaining">$0</p>
                                </div>
                            </div>
                        </div>

                        <!-- Category Breakdown -->
                        <div id="category-breakdown" class="space-y-2">
                            <!-- Category expenses will appear here -->
                        </div>

                        <!-- Recent Expenses -->
                        <div>
                            <h4 class="font-semibold text-gray-800 mb-2">Recent Expenses</h4>
                            <div id="recent-expenses" class="space-y-2 max-h-64 overflow-y-auto">
                                <!-- Recent expenses will appear here -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Summary Tab -->
        <div id="summary-tab" class="tab-content hidden">
            <div class="grid lg:grid-cols-2 gap-6">
                <!-- Trip Overview -->
                <div class="bg-white/70 backdrop-blur-sm rounded-2xl p-6 shadow-lg">
                    <h3 class="text-2xl font-bold text-gray-800 mb-4">ğŸŒŸ Trip Overview</h3>
                    <div id="trip-overview" class="space-y-4">
                        <!-- Trip details will be displayed here -->
                    </div>
                </div>

                <!-- Reflection Journal -->
                <div class="bg-white/70 backdrop-blur-sm rounded-2xl p-6 shadow-lg">
                    <h3 class="text-2xl font-bold text-gray-800 mb-4">ğŸ“ Travel Reflection</h3>
                    <div class="space-y-4">
                        <div>
                            <label class="block text-gray-700 font-semibold mb-2">âœ¨ Highlight of the trip</label>
                            <textarea id="trip-highlight" placeholder="What was the most amazing moment?" class="w-full p-3 rounded-xl border-2 border-pastel-peach focus:border-soft-peach outline-none transition-colors h-20 resize-none"></textarea>
                        </div>
                        <div>
                            <label class="block text-gray-700 font-semibold mb-2">ğŸ§  What did I learn?</label>
                            <textarea id="trip-learning" placeholder="About myself or the world..." class="w-full p-3 rounded-xl border-2 border-pastel-mint focus:border-soft-mint outline-none transition-colors h-20 resize-none"></textarea>
                        </div>
                        <div>
                            <label class="block text-gray-700 font-semibold mb-2">ğŸ’« Unforgettable moments</label>
                            <textarea id="unforgettable-moments" placeholder="Moments I never want to forget..." class="w-full p-3 rounded-xl border-2 border-pastel-lavender focus:border-soft-lavender outline-none transition-colors h-20 resize-none"></textarea>
                        </div>
                        <div>
                            <label class="block text-gray-700 font-semibold mb-2">ğŸ—ºï¸ Travel tips for others</label>
                            <textarea id="travel-tips" placeholder="Share your wisdom with fellow explorers..." class="w-full p-3 rounded-xl border-2 border-pastel-yellow focus:border-soft-yellow outline-none transition-colors h-20 resize-none"></textarea>
                        </div>
                        <div class="grid grid-cols-2 gap-4">
                            <button onclick="saveReflection()" class="bg-gradient-to-r from-soft-lavender to-soft-peach text-gray-800 font-bold py-3 px-6 rounded-xl hover:shadow-lg transition-all duration-300 transform hover:scale-105">
                                ğŸ’¾ Save Reflection
                            </button>
                            <button onclick="exportTripSummary()" class="bg-gradient-to-r from-soft-mint to-soft-yellow text-gray-800 font-bold py-3 px-6 rounded-xl hover:shadow-lg transition-all duration-300 transform hover:scale-105">
                                ğŸ“¤ Export Trip
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Global variables
        let currentDay = 1;
        let tripData = {
            setup: {},
            itinerary: {},
            expenses: [],
            reflection: {}
        };

        // Cities database by country
        const citiesByCountry = {
            'japan': [
                { value: 'tokyo', name: 'ğŸ™ï¸ Tokyo' },
                { value: 'kyoto', name: 'ğŸ¯ Kyoto' },
                { value: 'osaka', name: 'ğŸœ Osaka' },
                { value: 'hiroshima', name: 'ğŸ•Šï¸ Hiroshima' },
                { value: 'nara', name: 'ğŸ¦Œ Nara' },
                { value: 'yokohama', name: 'ğŸŒŠ Yokohama' },
                { value: 'kobe', name: 'ğŸ¥© Kobe' },
                { value: 'fukuoka', name: 'ğŸ² Fukuoka' }
            ],
            'thailand': [
                { value: 'bangkok', name: 'ğŸ›º Bangkok' },
                { value: 'phuket', name: 'ğŸ–ï¸ Phuket' },
                { value: 'chiang-mai', name: 'ğŸ”ï¸ Chiang Mai' },
                { value: 'pattaya', name: 'ğŸŒ´ Pattaya' },
                { value: 'krabi', name: 'ğŸï¸ Krabi' },
                { value: 'koh-samui', name: 'ğŸ¥¥ Koh Samui' },
                { value: 'ayutthaya', name: 'ğŸ›ï¸ Ayutthaya' }
            ],
            'philippines': [
                { value: 'manila', name: 'ğŸ¢ Manila' },
                { value: 'cebu', name: 'ğŸï¸ Cebu' },
                { value: 'boracay', name: 'ğŸŒ´ Boracay' },
                { value: 'palawan', name: 'ğŸ–ï¸ Palawan' },
                { value: 'baguio', name: 'ğŸ”ï¸ Baguio' },
                { value: 'davao', name: 'ğŸŒº Davao' },
                { value: 'iloilo', name: 'ğŸ›ï¸ Iloilo' }
            ],
            'singapore': [
                { value: 'singapore-city', name: 'ğŸ¦ Singapore City' },
                { value: 'sentosa', name: 'ğŸ¢ Sentosa' },
                { value: 'marina-bay', name: 'ğŸ™ï¸ Marina Bay' },
                { value: 'orchard', name: 'ğŸ›ï¸ Orchard' }
            ],
            'south-korea': [
                { value: 'seoul', name: 'ğŸ™ï¸ Seoul' },
                { value: 'busan', name: 'ğŸŒŠ Busan' },
                { value: 'jeju', name: 'ğŸŒ‹ Jeju' },
                { value: 'incheon', name: 'âœˆï¸ Incheon' },
                { value: 'daegu', name: 'ğŸ›ï¸ Daegu' },
                { value: 'gwangju', name: 'ğŸ¨ Gwangju' }
            ],
            'vietnam': [
                { value: 'ho-chi-minh', name: 'ğŸï¸ Ho Chi Minh City' },
                { value: 'hanoi', name: 'ğŸ›ï¸ Hanoi' },
                { value: 'da-nang', name: 'ğŸ–ï¸ Da Nang' },
                { value: 'hoi-an', name: 'ğŸ® Hoi An' },
                { value: 'nha-trang', name: 'ğŸŒŠ Nha Trang' },
                { value: 'hue', name: 'ğŸ‘‘ Hue' }
            ],
            'malaysia': [
                { value: 'kuala-lumpur', name: 'ğŸ—ï¸ Kuala Lumpur' },
                { value: 'penang', name: 'ğŸ› Penang' },
                { value: 'malacca', name: 'ğŸ›ï¸ Malacca' },
                { value: 'langkawi', name: 'ğŸï¸ Langkawi' },
                { value: 'kota-kinabalu', name: 'ğŸ”ï¸ Kota Kinabalu' },
                { value: 'johor-bahru', name: 'ğŸŒ‰ Johor Bahru' }
            ],
            'indonesia': [
                { value: 'jakarta', name: 'ğŸŒ† Jakarta' },
                { value: 'bali', name: 'ğŸŒº Bali' },
                { value: 'yogyakarta', name: 'ğŸ›ï¸ Yogyakarta' },
                { value: 'bandung', name: 'ğŸ”ï¸ Bandung' },
                { value: 'surabaya', name: 'ğŸ¢ Surabaya' },
                { value: 'lombok', name: 'ğŸ–ï¸ Lombok' }
            ],
            'france': [
                { value: 'paris', name: 'ğŸ—¼ Paris' },
                { value: 'nice', name: 'ğŸŒŠ Nice' },
                { value: 'lyon', name: 'ğŸ· Lyon' },
                { value: 'marseille', name: 'â›µ Marseille' },
                { value: 'cannes', name: 'ğŸ¬ Cannes' },
                { value: 'bordeaux', name: 'ğŸ‡ Bordeaux' },
                { value: 'strasbourg', name: 'ğŸ° Strasbourg' }
            ],
            'united-kingdom': [
                { value: 'london', name: 'ğŸ¡ London' },
                { value: 'edinburgh', name: 'ğŸ° Edinburgh' },
                { value: 'manchester', name: 'âš½ Manchester' },
                { value: 'liverpool', name: 'ğŸµ Liverpool' },
                { value: 'birmingham', name: 'ğŸ­ Birmingham' },
                { value: 'glasgow', name: 'ğŸ´ó §ó ¢ó ³ó £ó ´ó ¿ Glasgow' },
                { value: 'bath', name: 'ğŸ› Bath' }
            ],
            'united-states': [
                { value: 'new-york', name: 'ğŸ—½ New York' },
                { value: 'los-angeles', name: 'ğŸŒ´ Los Angeles' },
                { value: 'chicago', name: 'ğŸ™ï¸ Chicago' },
                { value: 'miami', name: 'ğŸ–ï¸ Miami' },
                { value: 'las-vegas', name: 'ğŸ° Las Vegas' },
                { value: 'san-francisco', name: 'ğŸŒ‰ San Francisco' },
                { value: 'seattle', name: 'â˜• Seattle' },
                { value: 'boston', name: 'ğŸ¦ Boston' }
            ],
            'australia': [
                { value: 'sydney', name: 'ğŸ„ Sydney' },
                { value: 'melbourne', name: 'â˜• Melbourne' },
                { value: 'brisbane', name: 'ğŸŒ Brisbane' },
                { value: 'perth', name: 'ğŸŒŠ Perth' },
                { value: 'adelaide', name: 'ğŸ· Adelaide' },
                { value: 'gold-coast', name: 'ğŸ–ï¸ Gold Coast' },
                { value: 'cairns', name: 'ğŸ  Cairns' }
            ],
            'united-arab-emirates': [
                { value: 'dubai', name: 'ğŸ—ï¸ Dubai' },
                { value: 'abu-dhabi', name: 'ğŸ•Œ Abu Dhabi' },
                { value: 'sharjah', name: 'ğŸ¨ Sharjah' },
                { value: 'fujairah', name: 'ğŸ”ï¸ Fujairah' }
            ],
            'turkey': [
                { value: 'istanbul', name: 'ğŸ•Œ Istanbul' },
                { value: 'ankara', name: 'ğŸ›ï¸ Ankara' },
                { value: 'antalya', name: 'ğŸ–ï¸ Antalya' },
                { value: 'cappadocia', name: 'ğŸˆ Cappadocia' },
                { value: 'izmir', name: 'ğŸŒŠ Izmir' },
                { value: 'bodrum', name: 'â›µ Bodrum' }
            ],
            'italy': [
                { value: 'rome', name: 'ğŸ›ï¸ Rome' },
                { value: 'milan', name: 'ğŸ‘— Milan' },
                { value: 'venice', name: 'ğŸš¤ Venice' },
                { value: 'florence', name: 'ğŸ¨ Florence' },
                { value: 'naples', name: 'ğŸ• Naples' },
                { value: 'turin', name: 'ğŸ”ï¸ Turin' },
                { value: 'bologna', name: 'ğŸ Bologna' }
            ],
            'spain': [
                { value: 'madrid', name: 'ğŸ‘‘ Madrid' },
                { value: 'barcelona', name: 'ğŸ›ï¸ Barcelona' },
                { value: 'seville', name: 'ğŸ’ƒ Seville' },
                { value: 'valencia', name: 'ğŸ¥˜ Valencia' },
                { value: 'bilbao', name: 'ğŸ›ï¸ Bilbao' },
                { value: 'granada', name: 'ğŸ° Granada' },
                { value: 'toledo', name: 'âš”ï¸ Toledo' }
            ],
            'netherlands': [
                { value: 'amsterdam', name: 'ğŸš² Amsterdam' },
                { value: 'rotterdam', name: 'ğŸ—ï¸ Rotterdam' },
                { value: 'the-hague', name: 'ğŸ›ï¸ The Hague' },
                { value: 'utrecht', name: 'ğŸ° Utrecht' },
                { value: 'eindhoven', name: 'ğŸ’¡ Eindhoven' },
                { value: 'groningen', name: 'ğŸ“ Groningen' }
            ],
            'germany': [
                { value: 'berlin', name: 'ğŸ§± Berlin' },
                { value: 'munich', name: 'ğŸº Munich' },
                { value: 'hamburg', name: 'âš“ Hamburg' },
                { value: 'cologne', name: 'â›ª Cologne' },
                { value: 'frankfurt', name: 'ğŸ¦ Frankfurt' },
                { value: 'dresden', name: 'ğŸ° Dresden' },
                { value: 'heidelberg', name: 'ğŸ›ï¸ Heidelberg' }
            ],
            'china': [
                { value: 'beijing', name: 'ğŸ¯ Beijing' },
                { value: 'shanghai', name: 'ğŸ™ï¸ Shanghai' },
                { value: 'guangzhou', name: 'ğŸŒ† Guangzhou' },
                { value: 'shenzhen', name: 'ğŸ¢ Shenzhen' },
                { value: 'chengdu', name: 'ğŸ¼ Chengdu' },
                { value: 'xian', name: 'ğŸº Xi\'an' },
                { value: 'hangzhou', name: 'ğŸŒ¸ Hangzhou' }
            ],
            'india': [
                { value: 'mumbai', name: 'ğŸ™ï¸ Mumbai' },
                { value: 'delhi', name: 'ğŸ›ï¸ Delhi' },
                { value: 'bangalore', name: 'ğŸ’» Bangalore' },
                { value: 'kolkata', name: 'ğŸ­ Kolkata' },
                { value: 'chennai', name: 'ğŸ–ï¸ Chennai' },
                { value: 'hyderabad', name: 'ğŸ’ Hyderabad' },
                { value: 'pune', name: 'ğŸ“ Pune' },
                { value: 'jaipur', name: 'ğŸ° Jaipur' },
                { value: 'goa', name: 'ğŸ–ï¸ Goa' }
            ],
            'canada': [
                { value: 'toronto', name: 'ğŸ™ï¸ Toronto' },
                { value: 'vancouver', name: 'ğŸ”ï¸ Vancouver' },
                { value: 'montreal', name: 'ğŸ Montreal' },
                { value: 'calgary', name: 'ğŸ¤  Calgary' },
                { value: 'ottawa', name: 'ğŸ›ï¸ Ottawa' },
                { value: 'quebec-city', name: 'ğŸ° Quebec City' },
                { value: 'winnipeg', name: 'â„ï¸ Winnipeg' }
            ],
            'brazil': [
                { value: 'rio-de-janeiro', name: 'ğŸ–ï¸ Rio de Janeiro' },
                { value: 'sao-paulo', name: 'ğŸ™ï¸ SÃ£o Paulo' },
                { value: 'salvador', name: 'ğŸ­ Salvador' },
                { value: 'brasilia', name: 'ğŸ›ï¸ BrasÃ­lia' },
                { value: 'fortaleza', name: 'ğŸŒŠ Fortaleza' },
                { value: 'recife', name: 'ğŸ–ï¸ Recife' },
                { value: 'manaus', name: 'ğŸŒ³ Manaus' }
            ]
        };

        // Exchange rates (simplified - in real app would fetch from API)
        const exchangeRates = {
            USD: 1,
            EUR: 0.85,
            JPY: 110,
            PHP: 50,
            THB: 33,
            SGD: 1.35,
            KRW: 1200
        };

        // Tab functionality
        function showTab(tabName) {
            // Hide all tabs
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.add('hidden');
            });
            
            // Remove active class from all buttons
            document.querySelectorAll('.tab-btn').forEach(btn => {
                btn.classList.remove('active', 'bg-white', 'shadow-md');
                btn.classList.add('text-gray-600', 'hover:text-gray-800');
            });
            
            // Show selected tab
            document.getElementById(tabName + '-tab').classList.remove('hidden');
            
            // Add active class to selected button
            const activeBtn = document.getElementById('tab-' + tabName);
            activeBtn.classList.add('active', 'bg-white', 'shadow-md');
            activeBtn.classList.remove('text-gray-600', 'hover:text-gray-800');
        }

        // Trip Setup Functions
        function saveTripSetup() {
            const setup = {
                name: document.getElementById('trip-name').value,
                country: document.getElementById('country').value,
                cities: Array.from(document.getElementById('cities').selectedOptions).map(option => option.value),
                startDate: document.getElementById('start-date').value,
                endDate: document.getElementById('end-date').value,
                budget: parseFloat(document.getElementById('budget').value) || 0,
                currency: document.getElementById('budget-currency').value
            };
            
            tripData.setup = setup;
            updateTripInfo();
            
            // Show success message
            showNotification('Trip setup saved! âœ¨', 'success');
        }

        function updateTripInfo() {
            const setup = tripData.setup;
            if (setup.startDate && setup.endDate) {
                const start = new Date(setup.startDate);
                const end = new Date(setup.endDate);
                const duration = Math.ceil((end - start) / (1000 * 60 * 60 * 24)) + 1;
                const today = new Date();
                const daysRemaining = Math.ceil((start - today) / (1000 * 60 * 60 * 24));
                
                document.getElementById('duration').textContent = duration + ' days';
                document.getElementById('days-remaining').textContent = daysRemaining > 0 ? daysRemaining + ' days' : 'Trip started!';
            }
        }

        // Date change listeners
        document.getElementById('start-date').addEventListener('change', updateTripInfo);
        document.getElementById('end-date').addEventListener('change', updateTripInfo);

        // Country change listener
        document.getElementById('country').addEventListener('change', function() {
            updateCitiesDropdown(this.value);
        });

        function updateCitiesDropdown(countryValue) {
            const citiesSelect = document.getElementById('cities');
            citiesSelect.innerHTML = '';
            
            if (!countryValue) {
                citiesSelect.innerHTML = '<option value="">Select a country first...</option>';
                return;
            }
            
            const cities = citiesByCountry[countryValue];
            if (cities && cities.length > 0) {
                cities.forEach(city => {
                    const option = document.createElement('option');
                    option.value = city.value;
                    option.textContent = city.name;
                    citiesSelect.appendChild(option);
                });
            } else {
                // Generic cities for countries not in our database
                const genericCities = [
                    { value: 'capital', name: 'ğŸ›ï¸ Capital City' },
                    { value: 'major-city-1', name: 'ğŸ™ï¸ Major City' },
                    { value: 'coastal-city', name: 'ğŸŒŠ Coastal City' },
                    { value: 'mountain-city', name: 'ğŸ”ï¸ Mountain City' },
                    { value: 'historic-city', name: 'ğŸ° Historic City' }
                ];
                
                genericCities.forEach(city => {
                    const option = document.createElement('option');
                    option.value = city.value;
                    option.textContent = city.name;
                    citiesSelect.appendChild(option);
                });
            }
        }

        // Itinerary Functions
        function generateSuggestions() {
            const suggestions = [
                { name: 'ğŸ¯ Tokyo Skytree', location: 'Tokyo', rating: 4.5, type: 'attraction' },
                { name: 'ğŸœ Ramen Street', location: 'Tokyo Station', rating: 4.8, type: 'food' },
                { name: 'ğŸŒ¸ Senso-ji Temple', location: 'Asakusa', rating: 4.6, type: 'cultural' },
                { name: 'ğŸ›ï¸ Shibuya Crossing', location: 'Shibuya', rating: 4.4, type: 'experience' },
                { name: 'ğŸŒ Meiji Shrine', location: 'Harajuku', rating: 4.7, type: 'cultural' }
            ];
            
            const suggestionsDiv = document.getElementById('suggestions');
            suggestionsDiv.innerHTML = suggestions.map(suggestion => `
                <div class="bg-white/50 rounded-lg p-3 cursor-pointer hover:bg-white/70 transition-colors" onclick="addSuggestionToDay('${suggestion.name}', '${suggestion.location}')">
                    <div class="flex justify-between items-center">
                        <div>
                            <p class="font-semibold">${suggestion.name}</p>
                            <p class="text-sm text-gray-600">${suggestion.location}</p>
                        </div>
                        <div class="text-right">
                            <p class="text-sm">â­ ${suggestion.rating}</p>
                            <button class="text-xs bg-pastel-mint px-2 py-1 rounded-full">+ Add</button>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        function addSuggestionToDay(name, location) {
            document.getElementById('activity-name').value = name;
            document.getElementById('activity-location').value = location;
            showNotification('Suggestion added to form! ğŸ‰', 'success');
        }

        function addActivity() {
            const activity = {
                name: document.getElementById('activity-name').value,
                location: document.getElementById('activity-location').value,
                time: document.getElementById('activity-time').value,
                duration: document.getElementById('activity-duration').value,
                day: currentDay
            };
            
            if (!activity.name) {
                showNotification('Please enter an activity name! ğŸ“', 'error');
                return;
            }
            
            if (!tripData.itinerary[currentDay]) {
                tripData.itinerary[currentDay] = [];
            }
            
            tripData.itinerary[currentDay].push(activity);
            displayDayActivities();
            
            // Clear form
            document.getElementById('activity-name').value = '';
            document.getElementById('activity-location').value = '';
            document.getElementById('activity-time').value = '';
            document.getElementById('activity-duration').value = '';
            
            showNotification('Activity added! ğŸ‰', 'success');
        }

        function displayDayActivities() {
            const activitiesDiv = document.getElementById('daily-activities');
            const dayActivities = tripData.itinerary[currentDay] || [];
            
            if (dayActivities.length === 0) {
                activitiesDiv.innerHTML = '<p class="text-gray-500 text-center py-8">No activities planned for this day yet. Add some above! ğŸ“…</p>';
                return;
            }
            
            activitiesDiv.innerHTML = dayActivities.map((activity, index) => `
                <div class="bg-white/50 rounded-xl p-4 hover:bg-white/70 transition-colors">
                    <div class="flex justify-between items-start">
                        <div class="flex-1">
                            <h4 class="font-semibold text-gray-800">${activity.name}</h4>
                            <p class="text-gray-600 text-sm">${activity.location}</p>
                            <div class="flex gap-4 mt-2 text-sm text-gray-500">
                                ${activity.time ? `<span>ğŸ• ${activity.time}</span>` : ''}
                                ${activity.duration ? `<span>â±ï¸ ${activity.duration}h</span>` : ''}
                            </div>
                        </div>
                        <button onclick="removeActivity(${index})" class="text-red-400 hover:text-red-600 transition-colors">
                            ğŸ—‘ï¸
                        </button>
                    </div>
                </div>
            `).join('');
        }

        function removeActivity(index) {
            tripData.itinerary[currentDay].splice(index, 1);
            displayDayActivities();
            showNotification('Activity removed! ğŸ—‘ï¸', 'success');
        }

        function prevDay() {
            if (currentDay > 1) {
                currentDay--;
                document.getElementById('current-day').textContent = `Day ${currentDay}`;
                displayDayActivities();
            }
        }

        function nextDay() {
            currentDay++;
            document.getElementById('current-day').textContent = `Day ${currentDay}`;
            displayDayActivities();
        }

        function searchPlaces() {
            showNotification('ğŸ—ºï¸ In a real app, this would open Google Maps integration!', 'info');
        }

        // Expense Functions
        function addExpense() {
            const expense = {
                amount: parseFloat(document.getElementById('expense-amount').value),
                currency: document.getElementById('expense-currency').value,
                category: document.getElementById('expense-category').value,
                description: document.getElementById('expense-description').value,
                date: document.getElementById('expense-date').value || new Date().toISOString().split('T')[0],
                id: Date.now()
            };
            
            if (!expense.amount || !expense.description) {
                showNotification('Please fill in amount and description! ğŸ’°', 'error');
                return;
            }
            
            tripData.expenses.push(expense);
            updateExpenseOverview();
            
            // Clear form
            document.getElementById('expense-amount').value = '';
            document.getElementById('expense-description').value = '';
            
            showNotification('Expense added! ğŸ’¾', 'success');
        }

        function updateExpenseOverview() {
            const budgetCurrency = tripData.setup.currency || 'USD';
            const allocatedBudget = tripData.setup.budget || 0;
            
            // Calculate total spent in budget currency
            let totalSpent = 0;
            const categoryTotals = {};
            
            tripData.expenses.forEach(expense => {
                const convertedAmount = convertCurrency(expense.amount, expense.currency, budgetCurrency);
                totalSpent += convertedAmount;
                
                if (!categoryTotals[expense.category]) {
                    categoryTotals[expense.category] = 0;
                }
                categoryTotals[expense.category] += convertedAmount;
            });
            
            const remaining = allocatedBudget - totalSpent;
            
            // Update budget summary
            document.getElementById('allocated-budget').textContent = formatCurrency(allocatedBudget, budgetCurrency);
            document.getElementById('total-spent').textContent = formatCurrency(totalSpent, budgetCurrency);
            document.getElementById('budget-remaining').textContent = formatCurrency(remaining, budgetCurrency);
            
            // Update category breakdown
            const categoryDiv = document.getElementById('category-breakdown');
            const categoryEmojis = {
                'pre-departure': 'ğŸ’',
                'transport': 'ğŸš—',
                'food': 'ğŸœ',
                'airfare': 'âœˆï¸',
                'accommodation': 'ğŸ¨',
                'shopping': 'ğŸ›ï¸',
                'activities': 'ğŸ¡',
                'other': 'ğŸ“¦',
                'custom': 'âœ¨'
            };
            
            categoryDiv.innerHTML = Object.entries(categoryTotals).map(([category, total]) => `
                <div class="flex justify-between items-center bg-white/50 rounded-lg p-3">
                    <span>${categoryEmojis[category]} ${category.charAt(0).toUpperCase() + category.slice(1)}</span>
                    <span class="font-semibold">${formatCurrency(total, budgetCurrency)}</span>
                </div>
            `).join('');
            
            // Update recent expenses
            const recentDiv = document.getElementById('recent-expenses');
            const recentExpenses = tripData.expenses.slice(-5).reverse();
            
            recentDiv.innerHTML = recentExpenses.map(expense => `
                <div class="flex justify-between items-center bg-white/30 rounded-lg p-2">
                    <div>
                        <p class="font-medium">${expense.description}</p>
                        <p class="text-sm text-gray-600">${expense.date}</p>
                    </div>
                    <span class="font-semibold">${formatCurrency(expense.amount, expense.currency)}</span>
                </div>
            `).join('');
        }

        function convertCurrency(amount, fromCurrency, toCurrency) {
            if (fromCurrency === 'local') fromCurrency = 'USD'; // Simplified
            if (fromCurrency === toCurrency) return amount;
            
            const usdAmount = amount / exchangeRates[fromCurrency];
            return usdAmount * exchangeRates[toCurrency];
        }

        function formatCurrency(amount, currency) {
            const symbols = {
                USD: '$',
                EUR: 'â‚¬',
                JPY: 'Â¥',
                PHP: 'â‚±',
                THB: 'à¸¿',
                SGD: 'S$',
                KRW: 'â‚©'
            };
            
            return `${symbols[currency] || currency} ${amount.toFixed(2)}`;
        }

        // Summary Functions
        function updateTripSummary() {
            const overviewDiv = document.getElementById('trip-overview');
            const setup = tripData.setup;
            
            overviewDiv.innerHTML = `
                <div class="space-y-4">
                    <div class="bg-pastel-peach/50 rounded-xl p-4">
                        <h4 class="font-bold text-lg mb-2">ğŸŒ ${setup.name || 'My Trip'}</h4>
                        <p><strong>Country:</strong> ${setup.country || 'Not specified'}</p>
                        <p><strong>Cities:</strong> ${setup.cities?.join(', ') || 'Not specified'}</p>
                        <p><strong>Duration:</strong> ${setup.startDate && setup.endDate ? 
                            Math.ceil((new Date(setup.endDate) - new Date(setup.startDate)) / (1000 * 60 * 60 * 24)) + 1 + ' days' : 'Not specified'}</p>
                    </div>
                    
                    <div class="bg-pastel-mint/50 rounded-xl p-4">
                        <h4 class="font-bold text-lg mb-2">ğŸ’° Budget Summary</h4>
                        <div class="grid grid-cols-2 gap-4">
                            <div>
                                <p class="text-sm text-gray-600">Total Budget</p>
                                <p class="font-bold">${formatCurrency(setup.budget || 0, setup.currency || 'USD')}</p>
                            </div>
                            <div>
                                <p class="text-sm text-gray-600">Total Spent</p>
                                <p class="font-bold">${formatCurrency(tripData.expenses.reduce((sum, exp) => 
                                    sum + convertCurrency(exp.amount, exp.currency, setup.currency || 'USD'), 0), setup.currency || 'USD')}</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="bg-pastel-lavender/50 rounded-xl p-4">
                        <h4 class="font-bold text-lg mb-2">ğŸ“… Activities Planned</h4>
                        <p>${Object.values(tripData.itinerary).flat().length} activities across ${Object.keys(tripData.itinerary).length} days</p>
                    </div>
                </div>
            `;
        }

        function saveReflection() {
            tripData.reflection = {
                highlight: document.getElementById('trip-highlight').value,
                learning: document.getElementById('trip-learning').value,
                moments: document.getElementById('unforgettable-moments').value,
                tips: document.getElementById('travel-tips').value
            };
            
            showNotification('Reflection saved! Your memories are precious âœ¨', 'success');
        }

        function exportTripSummary() {
            const setup = tripData.setup;
            const totalSpent = tripData.expenses.reduce((sum, exp) => 
                sum + convertCurrency(exp.amount, exp.currency, setup.currency || 'USD'), 0);
            const totalActivities = Object.values(tripData.itinerary).flat().length;
            const totalDays = Object.keys(tripData.itinerary).length;
            
            // Create comprehensive trip summary
            const tripSummary = `
ğŸŒ TRIP SUMMARY: ${setup.name || 'My Amazing Adventure'}
${'='.repeat(50)}

ğŸ“ DESTINATION DETAILS
â€¢ Country: ${setup.country || 'Not specified'}
â€¢ Cities: ${setup.cities?.join(', ') || 'Not specified'}
â€¢ Duration: ${setup.startDate && setup.endDate ? 
    Math.ceil((new Date(setup.endDate) - new Date(setup.startDate)) / (1000 * 60 * 60 * 24)) + 1 + ' days' : 'Not specified'}
â€¢ Dates: ${setup.startDate || 'Not set'} to ${setup.endDate || 'Not set'}

ğŸ’° BUDGET BREAKDOWN
â€¢ Total Budget: ${formatCurrency(setup.budget || 0, setup.currency || 'USD')}
â€¢ Total Spent: ${formatCurrency(totalSpent, setup.currency || 'USD')}
â€¢ Remaining: ${formatCurrency((setup.budget || 0) - totalSpent, setup.currency || 'USD')}

ğŸ“Š EXPENSE CATEGORIES
${generateExpenseCategoryReport()}

ğŸ“… ITINERARY OVERVIEW
â€¢ Total Activities Planned: ${totalActivities}
â€¢ Days with Activities: ${totalDays}

${generateItineraryReport()}

âœ¨ TRAVEL REFLECTIONS
${generateReflectionReport()}

ğŸ“ DETAILED EXPENSES
${generateExpenseReport()}

${'='.repeat(50)}
Generated on: ${new Date().toLocaleDateString()} at ${new Date().toLocaleTimeString()}
Created with Travel Planner & Tracker âœˆï¸
            `.trim();

            // Create and download the file
            const blob = new Blob([tripSummary], { type: 'text/plain' });
            const url = window.URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `${setup.name || 'Trip'}_Summary_${new Date().toISOString().split('T')[0]}.txt`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            window.URL.revokeObjectURL(url);
            
            showNotification('Trip summary exported! ğŸ“¤âœ¨', 'success');
        }

        function generateExpenseCategoryReport() {
            const budgetCurrency = tripData.setup.currency || 'USD';
            const categoryTotals = {};
            const categoryEmojis = {
                'pre-departure': 'ğŸ’',
                'transport': 'ğŸš—',
                'food': 'ğŸœ',
                'airfare': 'âœˆï¸',
                'accommodation': 'ğŸ¨',
                'shopping': 'ğŸ›ï¸',
                'activities': 'ğŸ¡',
                'other': 'ğŸ“¦',
                'custom': 'âœ¨'
            };
            
            tripData.expenses.forEach(expense => {
                const convertedAmount = convertCurrency(expense.amount, expense.currency, budgetCurrency);
                if (!categoryTotals[expense.category]) {
                    categoryTotals[expense.category] = 0;
                }
                categoryTotals[expense.category] += convertedAmount;
            });
            
            if (Object.keys(categoryTotals).length === 0) {
                return 'â€¢ No expenses recorded yet';
            }
            
            return Object.entries(categoryTotals)
                .map(([category, total]) => 
                    `â€¢ ${categoryEmojis[category]} ${category.charAt(0).toUpperCase() + category.slice(1)}: ${formatCurrency(total, budgetCurrency)}`)
                .join('\n');
        }

        function generateItineraryReport() {
            if (Object.keys(tripData.itinerary).length === 0) {
                return 'â€¢ No activities planned yet';
            }
            
            let report = '';
            Object.entries(tripData.itinerary).forEach(([day, activities]) => {
                report += `\nDAY ${day}:\n`;
                if (activities.length === 0) {
                    report += '  â€¢ No activities planned\n';
                } else {
                    activities.forEach(activity => {
                        report += `  â€¢ ${activity.time ? activity.time + ' - ' : ''}${activity.name}`;
                        if (activity.location) report += ` (${activity.location})`;
                        if (activity.duration) report += ` [${activity.duration}h]`;
                        report += '\n';
                    });
                }
            });
            
            return report;
        }

        function generateReflectionReport() {
            const reflection = tripData.reflection;
            if (!reflection || (!reflection.highlight && !reflection.learning && !reflection.moments && !reflection.tips)) {
                return 'â€¢ No reflections recorded yet';
            }
            
            let report = '';
            if (reflection.highlight) {
                report += `\nğŸŒŸ Trip Highlight:\n${reflection.highlight}\n`;
            }
            if (reflection.learning) {
                report += `\nğŸ§  What I Learned:\n${reflection.learning}\n`;
            }
            if (reflection.moments) {
                report += `\nğŸ’« Unforgettable Moments:\n${reflection.moments}\n`;
            }
            if (reflection.tips) {
                report += `\nğŸ—ºï¸ Travel Tips:\n${reflection.tips}\n`;
            }
            
            return report;
        }

        function generateExpenseReport() {
            if (tripData.expenses.length === 0) {
                return 'â€¢ No expenses recorded yet';
            }
            
            const sortedExpenses = [...tripData.expenses].sort((a, b) => new Date(a.date) - new Date(b.date));
            
            return sortedExpenses.map(expense => 
                `â€¢ ${expense.date} - ${expense.description}: ${formatCurrency(expense.amount, expense.currency)} (${expense.category})`
            ).join('\n');
        }

        // Utility Functions
        function showNotification(message, type = 'info') {
            const notification = document.createElement('div');
            notification.className = `fixed top-4 right-4 p-4 rounded-xl shadow-lg z-50 transition-all duration-300 transform translate-x-full`;
            
            const bgColor = {
                success: 'bg-soft-mint',
                error: 'bg-soft-peach',
                info: 'bg-soft-lavender'
            }[type];
            
            notification.classList.add(bgColor);
            notification.textContent = message;
            
            document.body.appendChild(notification);
            
            // Animate in
            setTimeout(() => {
                notification.classList.remove('translate-x-full');
            }, 100);
            
            // Remove after 3 seconds
            setTimeout(() => {
                notification.classList.add('translate-x-full');
                setTimeout(() => {
                    document.body.removeChild(notification);
                }, 300);
            }, 3000);
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            // Set today's date as default for expense date
            document.getElementById('expense-date').value = new Date().toISOString().split('T')[0];
            
            // Update displays when switching to tabs
            document.getElementById('tab-summary').addEventListener('click', updateTripSummary);
            document.getElementById('tab-expenses').addEventListener('click', updateExpenseOverview);
        });
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'961f9dd543a0850e',t:'MTc1Mjk4NDcwNy4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
